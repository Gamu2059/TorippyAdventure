//==>oppai.exe
#include <ncurses.h>
#include <unistd.h>
#include "define.h"
#include "etc.h"
#include "playerInfo.h"

extern int playerInfo[PLAYER_NUMBER][OBJECT_LINES][OBJECT_COLS];
int screen[ENDING_LINES][ENDING_COLS];
int END[4][5][100]=
{

{
{    99,     2,    99,    99,    99,     2,    99,    99,     2,     2,     2,    99,    99,     2,    99,    99,    99,     2,    99,    99,     2,     2,     2,    99,    99,    99,     2,     2,     2,    99,    99,    99,     2,     2,     2,    99,    99,     2,    99,    99,    99,     2,    99,     2,     2,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,    99,     2,    99,     2,    99,    99,     2,    99,    99,    99,     2,    99,     2,     2,    99,     2,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,     2,    99,     2,     2,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,    99,    99,     2,    99,    99,    99,     2,     2,     2,     2,     2,    99,     2,    99,     2,    99,     2,    99,     2,     2,     2,     2,     2,    99,     2,    99,    99,     2,     2,    99,     2,     2,     2,     2,     2,    99,     2,    99,     2,    99,     2,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,    99,     2,     2,     2,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,     2,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99}
},

{
{    99,     2,    99,    99,    99,     2,    99,    99,     2,     2,     2,    99,    99,    99,     2,     2,     2,    99,    99,    99,     2,     2,     2,    99,    99,    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,    99,    99,     2,    99,    99,    99,     2,    99,    99,     2,     2,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,     2,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,     2,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,    99,     2,    99,     2,    99,     2,     2,     2,     2,     2,    99,     2,    99,    99,     2,     2,    99,     2,     2,     2,     2,     2,    99,    99,     2,     2,     2,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,     2,    99,     2,    99,     2,    99,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,    99,    99,     2,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,    99,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,     2,     2,    99,     2,    99,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,    99,     2,     2,     2,    99,    99,     2,    99,    99,    99,     2,    99,     2,     2,     2,     2,    99,    99,    99,     2,     2,     2,    99,    99,     2,    99,    99,    99,     2,    99,    99,     2,     2,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99}
},

{
{    99,    99,     2,     2,     2,    99,    99,    99,     2,     2,     2,    99,    99,    99,     2,     2,     2,    99,    99,    99,     2,     2,     2,    99,    99,     2,    99,    99,    99,     2,    99,     2,     2,     2,     2,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,     2,    99,    99,     2,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,     2,     2,    99,     2,     2,     2,     2,     2,    99,     2,    99,     2,    99,     2,    99,     2,     2,     2,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,     2,     2,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,    99,     2,     2,     2,    99,    99,    99,     2,     2,     2,    99,    99,    99,     2,     2,     2,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,     2,     2,     2,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99}
},

{
{    99,     2,    99,     2,    99,     2,    99,    99,     2,     2,     2,    99,    99,     2,     2,     2,     2,     2,    99,    99,     2,     2,     2,    99,    99,     2,    99,    99,    99,     2,    99,    99,     2,     2,     2,    99,    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,     2,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,    99,     2,    99,     2,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,     2,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,    99,     2,    99,     2,    99,     2,     2,     2,     2,     2,    99,    99,    99,     2,    99,    99,    99,     2,     2,     2,     2,     2,    99,     2,    99,     2,    99,     2,    99,     2,     2,     2,     2,     2,    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,    99,     2,    99,     2,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,     2,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,    99,     2,    99,     2,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,     2,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99}
}


};

int LoL[5][5][100]={

{
{    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,     2,     2,    99,    99,     2,     2,     2,     2,    99,     2,     2,     2,     2,     2,    99,    99,     2,     2,     2,    99,    99,     2,     2,     2,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,    99,    99,    99,     2,    99,    99,     2,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,    99,    99,    99,     2,    99,    99,     2,    99,    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,     2,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,     2,     2,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,    99,    99,    99,     2,    99,    99,     2,    99,    99,     2,    99,    99,     2,    99,    99,     2,    99,    99,    99,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,    99,     2,    99,    99,    99,     2,    99,     2,     2,     2,     2,     2,    99,    99,     2,     2,     2,     2,    99,    99,    99,     2,    99,    99,    99,    99,     2,     2,     2,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99}
},

{
{    99,    99,     2,     2,     2,     2,    99,     2,    99,    99,    99,     2,    99,    99,     2,     2,     2,     2,    99,     2,     2,     2,     2,     2,    99,     2,     2,     2,     2,     2,    99,     2,    99,    99,    99,     2,    99,    99,    99,    99,     2,     2,     2,    99,    99,    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,     2,    99,     2,     2,     2,    99,    99,     2,     2,     2,     2,    99,     2,     2,     2,     2,     2,    99,    99,     2,     2,     2,    99,    99,     2,    99,    99,    99,     2,    99,     2,     2,     2,     2,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,    99,    99,    99,    99,    99,    99,     2,    99,     2,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,    99,    99,     2,     2,    99,     2,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,    99,    99,     2,    99,    99,    99,    99,    99,    99,     2,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,     2,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,    99,     2,     2,     2,    99,    99,    99,    99,     2,    99,    99,    99,    99,     2,     2,     2,    99,    99,    99,    99,     2,    99,    99,    99,     2,     2,     2,     2,    99,    99,     2,    99,     2,    99,     2,    99,    99,    99,     2,     2,     2,     2,     2,    99,    99,     2,     2,     2,    99,    99,    99,     2,     2,     2,    99,    99,    99,     2,    99,    99,    99,     2,     2,     2,    99,    99,    99,    99,     2,    99,    99,    99,     2,     2,     2,     2,     2,    99,     2,    99,     2,    99,     2,    99,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,    99,    99,     2,    99,    99,    99,    99,    99,     2,    99,    99,     2,    99,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,     2,     2,    99,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,     2,     2,     2,    99,    99,    99,    99,     2,    99,    99,    99,     2,     2,     2,     2,    99,    99,    99,    99,     2,    99,    99,    99,     2,     2,     2,     2,     2,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,    99,     2,     2,     2,     2,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99}
},

{
{    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,     2,    99,    99,    99,     2,     2,     2,    99,    99,    99,     2,     2,     2,    99,     2,     2,     2,     2,    99,    99,    99,     2,     2,     2,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,     2,     2,     2,     2,    99,     2,     2,     2,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,     2,    99,     2,     2,    99,     2,     2,    99,     2,     2,    99,     2,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,     2,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,     2,     2,    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,     2,     2,    99,     2,    99,     2,    99,     2,    99,     2,    99,     2,    99,     2,    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,    99,    99,    99,    99,    99,     2,    99,    99,     2,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,     2,    99,     2,    99,    99,     2,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,    99,    99,     2,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,     2,     2,     2,    99,    99,    99,     2,     2,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,     2,     2,     2,     2,    99,     2,    99,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99}
},

{
{    99,    99,     2,     2,     2,    99,     2,     2,     2,     2,    99,    99,    99,     2,     2,     2,    99,    99,     2,     2,     2,     2,    99,    99,     2,    99,    99,    99,     2,    99,     2,     2,     2,    99,    99,     2,     2,     2,    99,    99,    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,     2,     2,    99,    99,     2,     2,     2,     2,    99,     2,     2,     2,    99,    99,     2,     2,     2,    99,     2,    99,    99,    99,     2,    99,     2,     2,     2,     2,     2,    99,     2,     2,     2,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,    99,     2,    99,    99,     2,    99,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,    99,    99,     2,    99,    99,    99,    99,    99,    99,     2,    99,    99,     2,    99,    99,    99,    99,     2,     2,    99,    99,     2,    99,     2,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,    99,     2,     2,    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,     2,     2,    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,     2,     2,    99,    99,     2,    99,    99,     2,    99,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,     2,     2,     2,    99,    99,    99,     2,     2,     2,    99,    99,    99,     2,    99,    99,     2,    99,     2,     2,    99,     2,    99,     2,    99,     2,    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,     2,    99,    99,     2,    99,     2,    99,    99,     2,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,    99,     2,    99,    99,     2,    99,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,     2,    99,    99,     2,    99,    99,     2,    99,    99,     2,    99,     2,    99,    99,     2,     2,    99,     2,    99,    99,    99,    99,    99,     2,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99},
{    99,    99,     2,     2,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,     2,    99,     2,    99,    99,    99,    99,    99,     2,    99,    99,    99,     2,    99,     2,     2,     2,    99,    99,     2,     2,     2,    99,    99,    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,     2,     2,    99,     2,     2,     2,     2,    99,    99,     2,     2,     2,    99,    99,     2,     2,     2,    99,     2,    99,    99,    99,     2,    99,     2,     2,     2,     2,     2,    99,     2,    99,    99,    99,     2,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99}
}

};

int thanks[5][125]=
{
{     6,     6,     6,     6,     6,    99,     6,    99,    99,    99,     6,    99,    99,     6,     6,     6,    99,    99,     6,    99,    99,    99,     6,    99,     6,    99,    99,     6,    99,    99,    99,    99,    99,    99,    99,    99,     6,    99,    99,    99,     6,    99,    99,     6,     6,     6,    99,    99,     6,    99,    99,    99,     6,    99,    99,    99,    99,    99,    99,    99,     6,     6,     6,     6,     6,    99,    99,     6,     6,     6,    99,    99,     6,     6,     6,     6,    99,    99,    99,    99,    99,    99,    99,    99,     6,     6,     6,     6,    99,    99,     6,    99,    99,    99,    99,    99,    99,     6,     6,     6,    99,    99,     6,    99,    99,    99,     6,    99,    99,     6,     6,     6,    99,    99,     6,    99,    99,    99,     6,    99,    99,     6,     6,     6,    99},
{    99,    99,     6,    99,    99,    99,     6,    99,    99,    99,     6,    99,     6,    99,    99,    99,     6,    99,     6,     6,    99,    99,     6,    99,     6,    99,     6,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,     6,    99,     6,    99,    99,     6,    99,    99,    99,     6,    99,     6,    99,    99,    99,     6,    99,    99,    99,    99,    99,    99,    99,     6,    99,    99,    99,    99,    99,     6,    99,    99,    99,     6,    99,     6,    99,    99,    99,     6,    99,    99,    99,    99,    99,    99,    99,     6,    99,    99,    99,     6,    99,     6,    99,    99,    99,    99,    99,     6,    99,    99,    99,     6,    99,    99,     6,    99,     6,    99,    99,    99,    99,     6,    99,    99,    99,     6,     6,    99,    99,     6,    99,     6,    99,    99,    99,    99},
{    99,    99,     6,    99,    99,    99,     6,     6,     6,     6,     6,    99,     6,     6,     6,     6,     6,    99,     6,    99,     6,    99,     6,    99,     6,     6,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,     6,    99,    99,    99,     6,    99,    99,    99,     6,    99,     6,    99,    99,    99,     6,    99,    99,    99,    99,    99,    99,    99,     6,     6,     6,     6,    99,    99,     6,    99,    99,    99,     6,    99,     6,     6,     6,     6,    99,    99,    99,    99,    99,    99,    99,    99,     6,     6,     6,     6,    99,    99,     6,    99,    99,    99,    99,    99,     6,     6,     6,     6,     6,    99,    99,    99,     6,    99,    99,    99,    99,    99,     6,    99,    99,    99,     6,    99,     6,    99,     6,    99,     6,    99,    99,     6,     6},
{    99,    99,     6,    99,    99,    99,     6,    99,    99,    99,     6,    99,     6,    99,    99,    99,     6,    99,     6,    99,    99,     6,     6,    99,     6,    99,     6,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,     6,    99,    99,    99,     6,    99,    99,    99,     6,    99,     6,    99,    99,    99,     6,    99,    99,    99,    99,    99,    99,    99,     6,    99,    99,    99,    99,    99,     6,    99,    99,    99,     6,    99,     6,    99,    99,     6,    99,    99,    99,    99,    99,    99,    99,    99,     6,    99,    99,    99,    99,    99,     6,    99,    99,    99,    99,    99,     6,    99,    99,    99,     6,    99,    99,    99,     6,    99,    99,    99,    99,    99,     6,    99,    99,    99,     6,    99,    99,     6,     6,    99,     6,    99,    99,    99,     6},
{    99,    99,     6,    99,    99,    99,     6,    99,    99,    99,     6,    99,     6,    99,    99,    99,     6,    99,     6,    99,    99,    99,     6,    99,     6,    99,    99,     6,    99,    99,    99,    99,    99,    99,    99,    99,    99,    99,     6,    99,    99,    99,    99,     6,     6,     6,    99,    99,    99,     6,     6,     6,    99,    99,    99,    99,    99,    99,    99,    99,     6,    99,    99,    99,    99,    99,    99,     6,     6,     6,    99,    99,     6,    99,    99,    99,     6,    99,    99,    99,    99,    99,    99,    99,     6,    99,    99,    99,    99,    99,     6,     6,     6,     6,     6,    99,     6,    99,    99,    99,     6,    99,    99,    99,     6,    99,    99,    99,    99,     6,     6,     6,    99,    99,     6,    99,    99,    99,     6,    99,    99,     6,     6,     6,    99}
};

void ending();
void drawText(int,int);
void drawAnimation(int,int,int);
void drawToScreen();
int motionChange(int);

int motionChange(int type){
	static int count=0;
	int motion;
	switch(type){
		case 0:
			if(count>=0&&count<15)motion=getPlayerMoveNumber(WALK);
			else if(count>=15&&count<30)motion=getPlayerMoveNumber(WALK)+1;
			else if(count>=30&&count<45)motion=getPlayerMoveNumber(WALK)+2;
			else if(count>=45&&count<60)motion=getPlayerMoveNumber(WALK)+1;
			break;
		case 1:
			motion=getPlayerMoveNumber(S_ATTACK)+4;
			break;
	}
	count++;
	if(count==60)count=0;
	return motion;
}

void ending()
{
	timeout(0);
	bkgd(COLOR_PAIR(4));

	int y,x,z,
		member,motion=0,
		start_y,limit_x=70;
	
	for(start_y=220;start_y>10;start_y--){
		//スクリーン初期化
		for(y=0;y<ENDING_LINES;y++)
			for(x=0;x<ENDING_COLS;x++)
				screen[y][x]=99;
		drawText(start_y,limit_x);
		drawAnimation(start_y,limit_x,motion);
		motion=motionChange(0);
		drawToScreen();
		getch();
		refresh();
		usleep(20000);
	}
	while(1){
		//スクリーン初期化
		for(y=0;y<ENDING_LINES;y++)
			for(x=0;x<ENDING_COLS;x++)
				screen[y][x]=99;
		drawText(start_y,limit_x);
		for(y=0;y<5;y++){
			for(x=0;x<125;x++){
				if(getColorInfo(thanks[y][x])<64){
					if( y+150<ENDING_LINES&&
						y+150>=0&&
						x+180<ENDING_COLS&&
						x+180>=0)
						screen[y+150][x+180]=thanks[y][x];
				}
			}
		}
		drawAnimation(start_y,limit_x,motion);
		motion=motionChange(1);
		drawToScreen();
		if(getch()!=-1)break;
		usleep(20000);
	}
	return;
}

void drawText(int start_y,int start_x){
	int y,x,member;
	for(member=0;member<4;member++){
		for(y=0;y<5;y++){
			for(x=0;x<100;x++){
				if(getColorInfo(END[member][y][x])<64){
					if( y+start_y+member*50+20<ENDING_LINES&&
						y+start_y+member*50+20>=0&&
						x+start_x+30<ENDING_COLS&&
						x+start_x+30>=0)
						screen[y+start_y+member*50+20][x+start_x+30]=END[member][y][x];
				}
				if(getColorInfo(LoL[member][y][x])<64){
					if( y+start_y+member*50<ENDING_LINES&&
						y+start_y+member*50>=0&&
						x+start_x<ENDING_COLS&&
						x+start_x>=0)
						screen[y+start_y+member*50][x+start_x]=LoL[member][y][x];
				}
			}
		}
	}
	/*	for(y=0;y<5;y++){
			for(x=0;x<100;x++){
				if(getColorInfo(END[3][y][x])<64){
					if( y+start_y+70<ENDING_LINES&&
						y+start_y+70>=0&&
						x+start_x+150<ENDING_COLS&&
						x+start_x+150>=0)
						screen[y+start_y+70][x+start_x+150]=END[3][y][x];
				}
				if(getColorInfo(LoL[3][y][x])<64){
					if( y+start_y+50<ENDING_LINES&&
						y+start_y+50>=0&&
						x+start_x+120<ENDING_COLS&&
						x+start_x+120>=0)
						screen[y+start_y+50][x+start_x+120]=LoL[3][y][x];
				}
			}
		}
	*/
}

void drawToScreen(){
	int y,x,z;
	erase();
	for(y=0;y<ENDING_LINES;y++){
		for(x=0;x<ENDING_COLS;x++){
			attron(COLOR_PAIR(8));
			if(getColorInfo(screen[y][x])<64){
				attron(COLOR_PAIR(getColorInfo(screen[y][x])));
				for(z=0;z<2;z++)
					mvaddch(y,x*2+z,' ');
			}	
		}
	}
	refresh();
}

void drawAnimation(int start_y,int start_x,int level){
	int y,x;
	for(y=0;y<OBJECT_LINES;y++){
		for(x=0;x<OBJECT_COLS;x++){
			if(getColorInfo(playerInfo[level][y][x])<64&&playerInfo[level][y][x]!=200000){
				if(	y+60+start_y<ENDING_LINES&&
					y+60+start_y>=0&&
					x+200<ENDING_COLS&&
					x+200>=0)
					screen[y+60+start_y][x+200]=playerInfo[level][y][x];
			}
		}
	}
}
